<div id="wrapper" class="swiper-container vertical-scroll-slide horizontalSlide{{slide_number}}">
    <div class="swiper-wrapper page">
        <div class="swiper-slide verticalSlide1">
            <p class="element1">Test Level 1</p>
            <p class="element2">Test Level 2</p>
            <img src="data/presentation-content/chapter_1/slide_2/2.jpg" class="dummyContent mainBackground" />
        </div>
        <div class="swiper-slide verticalSlide2"><img src="data/presentation-content/chapter_1/slide_2/2-1.png" class="dummyContent" /></div>
    </div>
</div>
<script type="text/javascript">
$(document).ready(function() {
    var thisSlideNumber = {{slide_number}};
    var thisSlide = $('.horizontalSlide' + thisSlideNumber);
    $(document).on({
        'onSlideChangeEnd' : function(event){
            if(event.currentSlide === thisSlideNumber) {
                animateOnEnter(event);

            } else {
                resetAllAnimations(event);
            }
        },
        'onSlideChangeStart' : function(event){
            if(event.currentSlide === thisSlideNumber) {
                animateOnLeave(event);
            }
        },
        'onSlideChangeInit' : function(event){
            console.log(event);
        }
    });
    function animateOnEnter(event){
        resetAnimation(event);
        if(event.currentSubSlide === 1) {
            move($('.verticalSlide1 .element1', thisSlide)[0])
                .x(100)
                .set('opacity', 1)
                .duration(300)
                .end();
            move($('.verticalSlide1 .element2', thisSlide)[0])
                .x(100)
                .set('opacity', 1)
                .delay(100)
                .duration(300)
                .end();  
        } else if (event.currentSubSlide === 2) {

        } else if (event.currentSubSlide === 3) {
            
        }
    }
    function animateOnLeave(event){
    }
    function resetAnimation(event){
        if(event.currentSubSlide !== 1) {
            $('.verticalSlide1', thisSlide).find('*').each(function(i, element){
                $(element).attr('style', '');
            });
        } else if (event.currentSubSlide !== 2) {

        } else if (event.currentSubSlide !== 3) {
            
        }
    }
    function resetAllAnimations(event){
        $(thisSlide).find('*').each(function(i, element){
            console.log($(element).attr('style'));
            if($(element).attr('class') !== undefined) {
                if( $(element).attr('class').indexOf('swiper-') < 0)
                {
                 $(element).attr('style', '');
                }
            }
        });
    }
});
</script>
<style type="text/less">
.horizontalSlide{{slide_number}}{
    position: relative;
    .verticalSlide1 {
        color:red;
        .mainBackground {
            position: absolute;
            top:0;
            left:0;
        }
        p {
            z-index: 2;
            position: relative;
            opacity: 0;
            display:block;
            float:left;
            &.element1 {
                left:100px;
                top:200px;
            }
            &.element2 {
                left:400px;
                top:300px;
            }
        }
    }
    .verticalSlide2 {

    }
    .verticalSlide3 {

    }
}
</style>
